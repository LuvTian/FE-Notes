<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>线段属性lineJoin</title>
    <style>
    #canvas {
        display: block;
        margin: 0 auto;
        border: 1px solid #ccc;
    }
    </style>
</head>

<body>
    <canvas id="canvas" width="500" height="500"></canvas>
    <script>
        /**
         * lineJoin属性设置两条线交汇时的样式
         *
         */
        window.onload = function() {
            var canvas = document.getElementById("canvas");
            var ctx = canvas.getContext("2d");

            // miter
            ctx.beginPath();
            ctx.lineJoin="miter";//默认值，创建尖角
            ctx.moveTo(20,20);
            ctx.lineTo(100,50);
            ctx.lineTo(20,100);
            ctx.lineWidth = 15;
            ctx.strokeStyle = "red";
            ctx.stroke();

            // bevel
            ctx.beginPath();
            ctx.lineJoin="bevel";//创建斜角
            ctx.moveTo(20,150);
            ctx.lineTo(100,180);
            ctx.lineTo(20,230);
            ctx.lineWidth = 15;
            ctx.strokeStyle = "red";
            ctx.stroke();

            // round
            ctx.beginPath();
            ctx.lineJoin="round";//创建圆角
            ctx.moveTo(20,270);
            ctx.lineTo(100,300);
            ctx.lineTo(20,350);
            ctx.lineWidth = 15;
            ctx.strokeStyle = "red";
            ctx.stroke();



            // 值 "miter" 受 miterLimit 属性的影响。miterLimit设置最大斜接长度，斜接长度指的是在两条线交汇处内角和外角之间的距离。
            // 只有当 lineJoin 属性为 "miter" 时，miterLimit 才有效。
            // 边角的角度越小，斜接长度就会越大。
            // 为了避免斜接长度过长，我们可以使用 miterLimit 属性。
            // 如果斜接长度超过 miterLimit 的值，边角会以 lineJoin 的 "bevel" 类型来显示
            ctx.beginPath();
            ctx.lineJoin="miter";//创建尖角
            ctx.miterLimit=5;
            ctx.moveTo(20,400);
            ctx.lineTo(300,430);
            ctx.lineTo(20,480);
            ctx.lineWidth = 15;
            ctx.strokeStyle = "red";
            ctx.stroke();//结果以bevel类型显示

        }


    </script>
</body>

</html>
