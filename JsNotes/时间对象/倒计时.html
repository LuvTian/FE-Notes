<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>计算两个时间差</title>
</head>

<body>
    <script>
    /**
     * [getTimeDiff 算时间差函数]
     * @param  {[string]} olddate [一个任意的老的时间]
     */
    function getTimeDiff(olddate) {
        var date = new Date(); //创建时间对象

        var nowTime = date.getTime(); //获取此时此刻的系统时间（毫秒数）

        var oldTime = new Date(olddate); //获取老的时间的毫秒数

        var msDiff = nowTime - oldTime; //用现在的时间秒数减去老的时间的毫秒数得到时间差毫秒数
        // console.log(msDiff);

        var D = Math.floor(msDiff / (24 * 60 * 60 * 1000)); //天数
        var H = Math.floor(msDiff / (60 * 60 * 1000)) % 24; //小时
        var M = Math.floor(msDiff / (1000 * 60)) % 60; //分钟
        var S = Math.floor(msDiff / 1000) % 60; //秒数


        var result = "相差: " + D + "天" + H + "小时" + M + "分" + S + "秒"; //字符串拼接

        return result; //返回结果
    }
    var timeDiff = getTimeDiff('2016/07/18 23:19:45');

    alert(timeDiff);
    </script>
</body>

</html>
